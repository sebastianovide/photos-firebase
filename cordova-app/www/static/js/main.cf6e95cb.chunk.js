(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){e.exports=a.p+"static/media/menu.86595150.svg"},103:function(e,t,a){e.exports=a.p+"static/media/camera.53853ae5.svg"},104:function(e,t,a){e.exports=a.p+"static/media/map.cd586af5.svg"},113:function(e,t,a){e.exports=a(272)},132:function(e,t,a){},23:function(e,t,a){e.exports=a.p+"static/media/left-arrow.6468634d.svg"},272:function(e,t,a){"use strict";a.r(t);a(97).initializeApp({apiKey:"AIzaSyBkuZPVStg_zRfUaxLJ-mP4xxdFv8GzdZw",authDomain:"photos-demo-d4b14.firebaseapp.com",databaseURL:"https://photos-demo-d4b14.firebaseio.com",projectId:"photos-demo-d4b14",storageBucket:"photos-demo-d4b14.appspot.com",messagingSenderId:"639308065605"});var n=a(0),o=a.n(n),i=a(21),l=a.n(i),r=(a(132),a(15)),c=a(16),s=a(18),p=a(17),u=a(19),d=a(11),g=a.n(d),h=a(23),m=a.n(h),f=a(98),y=a.n(f),b=function(e,t){var a;a=Math.random()<.5?"Photo was uploaded successfully":"Failed to upload. Please try again!",setTimeout(function(){return e.openDialog(a)},1e3)},v="#333",E="#faa728",x=function(){return o.a.createElement("div",{style:k.headline},o.a.createElement("div",{style:k.headtext},"GEOVATION"),o.a.createElement("img",{style:k.headphoto,src:y.a,alt:"header"}))},k={headline:{display:"flex",flexDirection:"column",height:120,justifyContent:"center",alignItems:"center"},headtext:{color:"white",fontFamily:"OSGillSans ,sans-serif !important"},headphoto:{height:80}},P={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:v},headline:{display:"flex",height:50,backgroundColor:E,alignItems:"center"},buttonback:{height:25},headtext:{display:"flex"}},C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:P.wrapper},o.a.createElement("div",{style:P.headline},o.a.createElement(g.a,{onClick:this.closePage},o.a.createElement("img",{style:P.buttonback,src:m.a,alt:""})),o.a.createElement("div",{style:P.headtext},"Page 1")))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:P.wrapper},o.a.createElement("div",{style:P.headline},o.a.createElement(g.a,{onClick:this.closePage},o.a.createElement("img",{style:P.buttonback,src:m.a,alt:""})),o.a.createElement("div",{style:P.headtext},"Page 2")))}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:P.wrapper},o.a.createElement("div",{style:P.headline},o.a.createElement(g.a,{onClick:this.closePage},o.a.createElement("img",{style:P.buttonback,src:m.a,alt:""})),o.a.createElement("div",{style:P.headtext},"Page 3")))}}]),t}(n.Component),j=a(33),S=a(100),D=a.n(S),I=a(34),M=a.n(I),A=a(62),T=a.n(A),L=a(60),R=a.n(L),F=a(61),B=a.n(F),z=a(101),W=a.n(z),N={wrapper:{display:"flex",height:"100vh",flexDirection:"column",backgroundColor:v},headline:{display:"flex",flexDirection:"column",height:120,justifyContent:"center",alignItems:"center"},headtext:{display:"flex",color:"white",fontFamily:"OSGillSans ,sans-serif !important"},headphoto:{display:"flex",height:80},body:{display:"flex",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:E},progress:{color:v}},G=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:N.wrapper},o.a.createElement(x,null),o.a.createElement("div",{style:N.body},o.a.createElement(W.a,{style:N.progress,size:50,thickness:6})))}}]),t}(o.a.Component),H={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:v},headline:{display:"flex",height:50,backgroundColor:E,alignItems:"center"},buttonback:{height:25},entertext:{display:"flex",height:30,paddingLeft:5,color:E,alignItems:"center"},inputtext:{marginLeft:"5px",border:"1px solid black"},picture:{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:v},buttonwrapper:{display:"flex",height:50,backgroundColor:v,alignItems:"center",justifyContent:"center"},sendbutton:{color:v,backgroundColor:E}},U=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.target.value})},a.openDialog=function(e){a.setState({sending:!1,open:!0,message:e})},a.closeDialog=function(){a.setState({open:!1}),"Failed to upload. Please try again!"===a.state.message?a.loadImage():a.closePage()},a.openDialogText=function(){a.setState({opendialogtext:!0})},a.closeDialogText=function(){a.setState({opendialogtext:!1})},a.sendFile=function(){var e={},t=a.state.value,n=a.props,o=n.file,i=n.location;e.file=o,""!==t?(e.text=t,i&&(e.latitude=i.latitude,e.longitude=i.longitude),a.setState({sending:!0}),b(Object(j.a)(Object(j.a)(a)),e)):a.openDialogText()},a.closePage=function(){a.props.closePage()},a.loadImage=function(){D()(a.props.file,function(e){document.getElementById("picture").appendChild(e);var t=document.getElementsByTagName("canvas")[0];t.width<t.height?(t.style.width="auto",t.style.maxHeight="100%"):(t.style.height="auto",t.style.maxWidth="100%")},{orientation:!0})},a.state={imgSrc:"",open:!1,opendialogtext:!1,message:"",value:"",sending:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"render",value:function(){return this.state.sending?o.a.createElement(G,null):o.a.createElement("div",{style:H.wrapper},o.a.createElement("div",{style:H.headline},o.a.createElement(g.a,{onClick:this.closePage},o.a.createElement("img",{style:H.buttonback,src:m.a,alt:""})),o.a.createElement("div",null,"PhotoPage")),o.a.createElement("div",{style:H.entertext},"Enter some text:",o.a.createElement("input",{type:"text",style:H.inputtext,value:this.state.value,onChange:this.handleChange})),o.a.createElement("div",{style:H.picture,id:"picture"}),o.a.createElement("div",{style:H.buttonwrapper},o.a.createElement(g.a,{style:H.sendbutton,onClick:this.sendFile},"Send Photo")),o.a.createElement(M.a,{open:this.state.open,onClose:this.closeDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(R.a,null,o.a.createElement(B.a,{id:"alert-dialog-description"},this.state.message)),o.a.createElement(T.a,null,o.a.createElement(g.a,{onClick:this.closeDialog,color:"primary"},"Ok"))),o.a.createElement(M.a,{open:this.state.opendialogtext,onClose:this.closeDialogText,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(R.a,null,o.a.createElement(B.a,{id:"alert-dialog-description"},"Please enter some text")),o.a.createElement(T.a,null,o.a.createElement(g.a,{onClick:this.closeDialogText,color:"primary"},"Ok"))))}}]),t}(n.Component),J=a(102),V=a.n(J),Y=a(103),Z=a.n(Y),_=a(104),q=a.n(_),K=a(111),Q=a.n(K),$=a(110),X=a.n($),ee=a(58),te=a.n(ee),ae=a(109),ne=a.n(ae),oe=a(47),ie=a.n(oe),le=a(112),re=a.n(le),ce={wrapper:{display:"flex",flex:1,flexDirection:"column",height:"100vh",backgroundColor:v},buttonappbar:{height:25},body:{display:"flex",flex:1,flexDirection:"column",backgroundColor:E},camera:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},inputcamera:{height:50,width:"50px",cursor:"pointer",opacity:0,position:"absolute"},imagecamera:{height:50,cursor:"pointer"},map:{display:"flex",flex:1,justifyContent:"center",alignItems:"center"},imagemap:{height:50,cursor:"pointer"},externallink:{display:"flex",height:50,justifyContent:"center",alignItems:"center",backgroundColor:v},buttonexternallink:{color:E,textTransform:"none"},appbar:{display:"flex",height:50,justifyContent:"flex-start",backgroundColor:E}},se=a(108),pe=a(45),ue=a.n(pe),de=a(59),ge=a.n(de),he=a(35),me=a.n(he),fe=a(44),ye=a.n(fe),be=a(46),ve=a.n(be),Ee=a(105),xe=a.n(Ee),ke=a(106),Pe=a.n(ke),Ce=a(107),we=a.n(Ce),Oe=a(63),je=a.n(Oe),Se={avatar:{backgroundColor:je.a[100],color:je.a[600]}},De=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.onClose()},a.handleListItemClick=function(e){a.props.onClose(e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.open;return o.a.createElement(M.a,{onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:n},o.a.createElement("div",null,o.a.createElement(ge.a,null,o.a.createElement(me.a,{button:!0,onClick:function(){return e.handleListItemClick("CAMERA")}},o.a.createElement(ye.a,null,o.a.createElement(ue.a,{className:a.avatar},o.a.createElement(xe.a,null))),o.a.createElement(ve.a,{primary:"Camera"})),o.a.createElement(me.a,{button:!0,onClick:function(){return e.handleListItemClick("PHOTOLIBRARY")}},o.a.createElement(ye.a,null,o.a.createElement(ue.a,{className:a.avatar},o.a.createElement(Pe.a,null))),o.a.createElement(ve.a,{primary:"Photo Library"})),o.a.createElement(me.a,{button:!0,onClick:this.handleClose},o.a.createElement(ye.a,null,o.a.createElement(ue.a,null,o.a.createElement(we.a,null))),o.a.createElement(ve.a,{primary:"Cancel"})))))}}]),t}(o.a.Component),Ie=Object(se.withStyles)(Se)(De),Me=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).openFile=function(e){e.target.files[0]&&a.props.openPhotoPage(e.target.files[0])},a.openMenu=function(){a.setState(function(e){return{open:!e.open}})},a.closeMenu=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a.openPage1=function(){a.setState({open:!1}),a.props.openPage1()},a.openPage2=function(){a.setState({open:!1}),a.props.openPage2()},a.openPage3=function(){a.setState({open:!1}),a.props.openPage3()},a.openMap=function(){a.props.openMap()},a.openCamera=function(){window.cordova&&a.setState({photoDialog:!0})},a.handleClose=function(e){if(a.setState({photoDialog:!1}),e){var t=navigator.camera,n="CAMERA"===e?t.PictureSourceType.CAMERA:t.PictureSourceType.PHOTOLIBRARY;t.getPicture(function(e){a.props.openPhotoPage(e)},function(e){console.log("Failed because: ",e)},{quality:50,destinationType:t.DestinationType.FILE_URI,sourceType:n,correctOrientation:!0})}},a.setRedirect=function(){window.location="https://geovation.uk/"},a.state={menuOpen:!1,open:!1,photoDialog:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("file-input");t&&t.addEventListener("change",function(t){return e.openFile(t)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:ce.wrapper},o.a.createElement(x,null),o.a.createElement("div",{style:ce.appbar},o.a.createElement(g.a,{onClick:this.openMenu,style:this.buttonappbar,buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"menu-list-grow":null,"aria-haspopup":"true"},o.a.createElement("img",{src:V.a,alt:""}))),o.a.createElement(ne.a,{open:this.state.open,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var a=t.TransitionProps,n=t.placement;return o.a.createElement(X.a,Object.assign({},a,{id:"menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),o.a.createElement(te.a,null,o.a.createElement(Q.a,{onClickAway:e.closeMenu},o.a.createElement(re.a,null,o.a.createElement(ie.a,{onClick:e.openPage1},"Page 1"),o.a.createElement(ie.a,{onClick:e.openPage2},"Page 2"),o.a.createElement(ie.a,{onClick:e.openPage3},"Page 3")))))}),o.a.createElement("div",{style:ce.body},o.a.createElement("div",{style:ce.camera},o.a.createElement(g.a,{onClick:this.openCamera},window.cordova?null:o.a.createElement("input",{id:"file-input",style:ce.inputcamera,type:"file",accept:"image/*"}),o.a.createElement("img",{style:ce.imagecamera,src:Z.a,alt:""})),o.a.createElement(Ie,{open:this.state.photoDialog,onClose:this.handleClose})),o.a.createElement("div",{style:ce.map},o.a.createElement(g.a,{onClick:this.openMap},o.a.createElement("img",{style:ce.imagemap,src:q.a,alt:""})))),o.a.createElement("div",{style:ce.externallink},o.a.createElement(g.a,{onClick:this.setRedirect,style:ce.buttonexternallink},"External Link")))}}]),t}(n.Component),Ae=a(64),Te=a.n(Ae),Le=(a(270),{wrapper:{display:"flex",flexDirection:"column"},headline:{display:"flex",height:50,backgroundColor:E,alignItems:"center"},buttonwrapper:{display:"flex",flex:1},buttonback:{height:25},headtext:{display:"flex",flex:1,justifyContent:"center"},headspace:{display:"flex",flex:1},map:{width:"100%",height:"calc(100vh - 50px)"}}),Re=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).closePage=function(){a.props.closePage()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Te.a.accessToken="",new Te.a.Map({container:"map",style:"https://s3-eu-west-1.amazonaws.com/tiles.os.uk/styles/open-zoomstack-outdoor/style.json",center:[-.1019313,51.524311],zoom:17,customAttribution:"Contains OS data &copy; Crown copyright and database rights 2018"})}},{key:"render",value:function(){return o.a.createElement("div",{style:Le.wrapper},o.a.createElement("div",{style:Le.headline},o.a.createElement("div",{style:Le.buttonwrapper},o.a.createElement(g.a,{onClick:this.closePage},o.a.createElement("img",{style:Le.buttonback,src:m.a,alt:""}))),o.a.createElement("div",{style:Le.headtext},"Map"),o.a.createElement("div",{style:Le.headspace})),o.a.createElement("div",{id:"map",style:Le.map}))}}]),t}(n.Component),Fe=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(p.a)(t).call(this,e))).openPage1=function(){a.setState({page1:!0})},a.closePage1=function(){a.setState({page1:!1})},a.openPage2=function(){a.setState({page2:!0})},a.closePage2=function(){a.setState({page2:!1})},a.openPage3=function(){a.setState({page3:!0})},a.closePage3=function(){a.setState({page3:!1})},a.openPhotoPage=function(e){a.setState({photopage:!0,file:e})},a.closePhotoPage=function(){a.setState({photopage:!1})},a.openMap=function(){a.setState({map:!0})},a.closeMap=function(){a.setState({map:!1})},a.state={page1:!1,page2:!1,page3:!1,photopage:!1,file:null,map:!1,loading:!0,location:{}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"getLocation",value:function(){var e=this;if(navigator&&navigator.geolocation)var t=navigator.geolocation.watchPosition(function(a){var n={latitude:a.coords.latitude,longitude:a.coords.longitude};navigator.geolocation.clearWatch(t),e.setState({loading:!1,location:n})},function(t){console.log("Error: ",t.message),e.setState({loading:!1})},{enableHighAccuracy:!1,timeout:3e3})}},{key:"componentDidMount",value:function(){this.getLocation()}},{key:"render",value:function(){return this.state.loading?o.a.createElement(G,null):this.state.page1?o.a.createElement(C,{closePage:this.closePage1}):this.state.page2?o.a.createElement(w,{closePage:this.closePage2}):this.state.page3?o.a.createElement(O,{closePage:this.closePage3}):this.state.photopage?o.a.createElement(U,{location:this.state.location,file:this.state.file,closePage:this.closePhotoPage}):this.state.map?o.a.createElement(Re,{closePage:this.closeMap}):o.a.createElement(Me,{openMenu:this.openMenu,closeMenu:this.closeMenu,openPage1:this.openPage1,openPage2:this.openPage2,openPage3:this.openPage3,openPhotoPage:this.openPhotoPage,openMap:this.openMap})}}]),t}(n.Component),Be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Be?(!function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):We(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):We(e)})}}function We(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Ne=function(){l.a.render(o.a.createElement(Fe,null),document.getElementById("root")),ze()};window.cordova?document.addEventListener("deviceready",Ne,!1):Ne()},98:function(e,t,a){e.exports=a.p+"static/media/logo.2435d258.svg"}},[[113,2,1]]]);
//# sourceMappingURL=main.cf6e95cb.chunk.js.map